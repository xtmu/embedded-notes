<!DOCTYPE html>
<html lang=zh>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="嵌入式笔记：cortex内核 目录 arm内核发展历史 cortexM0系列芯片系统框图 通用寄存器 m0特殊寄存器 m3/m4/m7特殊寄存器 MSP和PSP xPSR PRIMASK CONTROL FAULTMASK BASEPRI   栈空间操作 异常和中断 系统异常   NVIC可嵌套向量中断控制器 系统操作寄存器 NVIC寄存器 系统控制块SCB寄存器 SysTick寄存器   cor">
<meta property="og:type" content="article">
<meta property="og:title" content="嵌入式笔记：cortex内核">
<meta property="og:url" content="http://xiaowenxia.github.io/embedded-notes/2018/02/28/cortex/index.html">
<meta property="og:site_name" content="xiaxiaowen的个人博客">
<meta property="og:description" content="嵌入式笔记：cortex内核 目录 arm内核发展历史 cortexM0系列芯片系统框图 通用寄存器 m0特殊寄存器 m3/m4/m7特殊寄存器 MSP和PSP xPSR PRIMASK CONTROL FAULTMASK BASEPRI   栈空间操作 异常和中断 系统异常   NVIC可嵌套向量中断控制器 系统操作寄存器 NVIC寄存器 系统控制块SCB寄存器 SysTick寄存器   cor">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="http://xiaowenxia.github.io/embedded-notes/2018/02/28/res/cortex-m0系统框图.png">
<meta property="og:image" content="http://xiaowenxia.github.io/embedded-notes/2018/02/28/res/cortex-m3系统框图.png">
<meta property="og:updated_time" content="2018-02-28T01:17:19.305Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="嵌入式笔记：cortex内核">
<meta name="twitter:description" content="嵌入式笔记：cortex内核 目录 arm内核发展历史 cortexM0系列芯片系统框图 通用寄存器 m0特殊寄存器 m3/m4/m7特殊寄存器 MSP和PSP xPSR PRIMASK CONTROL FAULTMASK BASEPRI   栈空间操作 异常和中断 系统异常   NVIC可嵌套向量中断控制器 系统操作寄存器 NVIC寄存器 系统控制块SCB寄存器 SysTick寄存器   cor">
<meta name="twitter:image" content="http://xiaowenxia.github.io/embedded-notes/2018/02/28/res/cortex-m0系统框图.png">
    
    
        
          
              <link rel="shortcut icon" href="/embedded-notes/images/favicon.ico">
          
        
        
          
            <link rel="icon" type="image/png" href="/embedded-notes/images/favicon-192x192.png" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/embedded-notes/images/apple-touch-icon.png">
          
        
    
    <!-- title -->
    <title>嵌入式笔记：cortex内核</title>
    <!-- styles -->
    <link rel="stylesheet" href="/embedded-notes/css/style.css">
    <!-- rss -->
    
    
<link rel="stylesheet" href="/embedded-notes/css/prism-tomorrow.css" type="text/css">
<link rel="stylesheet" href="/embedded-notes/css/prism-line-numbers.css" type="text/css"></head>

<body>
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/embedded-notes/">Home</a></li>
         
          <li><a href="/embedded-notes/about/">About</a></li>
         
          <li><a href="/embedded-notes/posts/">Writing</a></li>
         
          <li><a href="http://github.com/xiaowenxia">Projects</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" href="/embedded-notes/2018/02/28/c基础/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=http://xiaowenxia.github.io/embedded-notes/2018/02/28/cortex/"><i class="fa fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=http://xiaowenxia.github.io/embedded-notes/2018/02/28/cortex/&text=嵌入式笔记：cortex内核"><i class="fa fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=http://xiaowenxia.github.io/embedded-notes/2018/02/28/cortex/&title=嵌入式笔记：cortex内核"><i class="fa fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=http://xiaowenxia.github.io/embedded-notes/2018/02/28/cortex/&is_video=false&description=嵌入式笔记：cortex内核"><i class="fa fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=嵌入式笔记：cortex内核&body=Check out this article: http://xiaowenxia.github.io/embedded-notes/2018/02/28/cortex/"><i class="fa fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=http://xiaowenxia.github.io/embedded-notes/2018/02/28/cortex/&title=嵌入式笔记：cortex内核"><i class="fa fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=http://xiaowenxia.github.io/embedded-notes/2018/02/28/cortex/&title=嵌入式笔记：cortex内核"><i class="fa fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=http://xiaowenxia.github.io/embedded-notes/2018/02/28/cortex/&title=嵌入式笔记：cortex内核"><i class="fa fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=http://xiaowenxia.github.io/embedded-notes/2018/02/28/cortex/&title=嵌入式笔记：cortex内核"><i class="fa fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=http://xiaowenxia.github.io/embedded-notes/2018/02/28/cortex/&name=嵌入式笔记：cortex内核&description="><i class="fa fa-tumblr " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#目录"><span class="toc-number">1.</span> <span class="toc-text">目录</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#arm内核发展历史"><span class="toc-number">1.1.</span> <span class="toc-text">arm内核发展历史</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#cortexM0系列芯片系统框图"><span class="toc-number">1.2.</span> <span class="toc-text">cortexM0系列芯片系统框图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#通用寄存器"><span class="toc-number">1.3.</span> <span class="toc-text">通用寄存器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#m0特殊寄存器"><span class="toc-number">1.4.</span> <span class="toc-text">m0特殊寄存器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#m3-m4-m7特殊寄存器"><span class="toc-number">1.5.</span> <span class="toc-text">m3/m4/m7特殊寄存器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#MSP和PSP"><span class="toc-number">1.5.1.</span> <span class="toc-text">MSP和PSP</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#xPSR"><span class="toc-number">1.5.2.</span> <span class="toc-text">xPSR</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#PRIMASK"><span class="toc-number">1.5.3.</span> <span class="toc-text">PRIMASK</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CONTROL"><span class="toc-number">1.5.4.</span> <span class="toc-text">CONTROL</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#FAULTMASK"><span class="toc-number">1.5.5.</span> <span class="toc-text">FAULTMASK</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#BASEPRI"><span class="toc-number">1.5.6.</span> <span class="toc-text">BASEPRI</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#栈空间操作"><span class="toc-number">1.6.</span> <span class="toc-text">栈空间操作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#异常和中断"><span class="toc-number">1.7.</span> <span class="toc-text">异常和中断</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#系统异常"><span class="toc-number">1.7.1.</span> <span class="toc-text">系统异常</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#NVIC可嵌套向量中断控制器"><span class="toc-number">1.8.</span> <span class="toc-text">NVIC可嵌套向量中断控制器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#系统操作寄存器"><span class="toc-number">1.9.</span> <span class="toc-text">系统操作寄存器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#NVIC寄存器"><span class="toc-number">1.9.1.</span> <span class="toc-text">NVIC寄存器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#系统控制块SCB寄存器"><span class="toc-number">1.9.2.</span> <span class="toc-text">系统控制块SCB寄存器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SysTick寄存器"><span class="toc-number">1.9.3.</span> <span class="toc-text">SysTick寄存器</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#cortex-m0启动流程"><span class="toc-number">1.10.</span> <span class="toc-text">cortex-m0启动流程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#中断向量表"><span class="toc-number">1.11.</span> <span class="toc-text">中断向量表</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#大小端"><span class="toc-number">1.12.</span> <span class="toc-text">大小端</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#堆栈"><span class="toc-number">1.13.</span> <span class="toc-text">堆栈</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#压栈的寄存器"><span class="toc-number">1.13.1.</span> <span class="toc-text">压栈的寄存器</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#杂项指令集"><span class="toc-number">1.14.</span> <span class="toc-text">杂项指令集</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#M0-M3-M4-M7区别"><span class="toc-number">1.15.</span> <span class="toc-text">M0/M3/M4/M7区别</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#M3系统框图"><span class="toc-number">1.16.</span> <span class="toc-text">M3系统框图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#M3快速开关中断汇编指令"><span class="toc-number">1.17.</span> <span class="toc-text">M3快速开关中断汇编指令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#M3内核CONTROL寄存器"><span class="toc-number">1.18.</span> <span class="toc-text">M3内核CONTROL寄存器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#异常和中断-1"><span class="toc-number">1.19.</span> <span class="toc-text">异常和中断</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#MPU存储器保护单元"><span class="toc-number">1.20.</span> <span class="toc-text">MPU存储器保护单元</span></a></li></ol></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index width mx-auto px2 my4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        嵌入式笔记：cortex内核
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">xiaxiaowen的个人博客</span>
      </span>
      
    <div class="postdate">
        <time datetime="2018-02-28T01:20:20.386Z" itemprop="datePublished">2018-02-28</time>
    </div>


      

    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <p>嵌入式笔记：cortex内核</p>
<h1 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h1><ul>
<li><a href="#arm内核发展历史">arm内核发展历史</a></li>
<li><a href="#cortexM0系列芯片系统框图">cortexM0系列芯片系统框图</a></li>
<li><a href="#通用寄存器">通用寄存器</a></li>
<li><a href="#m0特殊寄存器">m0特殊寄存器</a></li>
<li><a href="#m3/m4/m7特殊寄存器">m3/m4/m7特殊寄存器</a><ul>
<li><a href="#MSP和PSP">MSP和PSP</a></li>
<li><a href="#xPSR">xPSR</a></li>
<li><a href="#PRIMASK">PRIMASK</a></li>
<li><a href="#CONTROL">CONTROL</a></li>
<li><a href="#FAULTMASK">FAULTMASK</a></li>
<li><a href="#BASEPRI">BASEPRI</a></li>
</ul>
</li>
<li><a href="#栈空间操作">栈空间操作</a></li>
<li><a href="#异常和中断">异常和中断</a><ul>
<li><a href="#系统异常">系统异常</a></li>
</ul>
</li>
<li><a href="#NVIC可嵌套向量中断控制器">NVIC可嵌套向量中断控制器</a></li>
<li><a href="#系统操作寄存器">系统操作寄存器</a><ul>
<li><a href="#NVIC寄存器">NVIC寄存器</a></li>
<li><a href="#系统控制块SCB寄存器">系统控制块SCB寄存器</a></li>
<li><a href="#SysTick寄存器">SysTick寄存器</a></li>
</ul>
</li>
<li><a href="#cortex-m0启动流程">cortex-m0启动流程</a></li>
<li><a href="#中断向量表">中断向量表</a></li>
<li><a href="#大小端">大小端</a></li>
<li><a href="#堆栈">堆栈</a><ul>
<li><a href="#压栈的寄存器">压栈的寄存器</a></li>
</ul>
</li>
<li><a href="#杂项指令集">杂项指令集</a></li>
<li><a href="#M0/M3/M4/M7区别">M0/M3/M4/M7区别</a></li>
<li><a href="#M3系统框图">M3系统框图</a></li>
<li><a href="#M3快速开关中断汇编指令">M3快速开关中断汇编指令</a></li>
<li><a href="#M3内核CONTROL寄存器">M3内核CONTROL寄存器</a></li>
<li><a href="#异常和中断">异常和中断</a></li>
<li><a href="#MPU存储器保护单元">MPU存储器保护单元</a></li>
</ul>
<h2 id="arm内核发展历史"><a href="#arm内核发展历史" class="headerlink" title="arm内核发展历史"></a>arm内核发展历史</h2><table>
<thead>
<tr>
<th>arm内核</th>
<th>架构</th>
</tr>
</thead>
<tbody>
<tr>
<td>arm7</td>
<td>armv6</td>
</tr>
<tr>
<td>cortex-m0</td>
<td>armv6-m</td>
</tr>
<tr>
<td>cortex-m0+</td>
<td>armv6-m</td>
</tr>
<tr>
<td>cortex-m3</td>
<td>armv7-m</td>
</tr>
<tr>
<td>cortex-m4</td>
<td>armv7-m</td>
</tr>
<tr>
<td>cortex-m7</td>
<td>armv7-m</td>
</tr>
<tr>
<td>arm9</td>
<td>ARMv6</td>
</tr>
<tr>
<td>arm11</td>
<td>ARMv6</td>
</tr>
<tr>
<td>arm12</td>
<td>ARMv6</td>
</tr>
<tr>
<td>cortex-a7</td>
<td>armv7-a</td>
</tr>
<tr>
<td>cortex-a8</td>
<td>armv7-a</td>
</tr>
<tr>
<td>cortex-a9</td>
<td>armv7-a</td>
</tr>
<tr>
<td>cortex-a15</td>
<td>armv7-a</td>
</tr>
<tr>
<td>cortex-A17</td>
<td>armv7-a</td>
</tr>
<tr>
<td>cortex-A53</td>
<td>armv8</td>
</tr>
<tr>
<td>cortex-A57</td>
<td>armv8</td>
</tr>
<tr>
<td>cortex-A72</td>
<td>armv8</td>
</tr>
</tbody>
</table>
<h2 id="cortexM0系列芯片系统框图"><a href="#cortexM0系列芯片系统框图" class="headerlink" title="cortexM0系列芯片系统框图"></a>cortexM0系列芯片系统框图</h2><p><img src="../res/cortex-m0系统框图.png" alt="M0系统框图"><br>系统中包括：</p>
<ul>
<li>中断控制器</li>
<li>M0内核</li>
<li>AHB总线</li>
<li>存储器和外设</li>
<li>电源管理</li>
<li>时钟树</li>
<li>调试系统</li>
</ul>
<h2 id="通用寄存器"><a href="#通用寄存器" class="headerlink" title="通用寄存器"></a>通用寄存器</h2><table><br>    <tr><br>        <td>R0</td><br>        <td>R1</td><br>        <td>R2</td><br>        <td>R3</td><br>        <td>R4</td><br>        <td>R5</td><br>        <td>R6</td><br>        <td>R7</td><br>        <td>R8</td><br>        <td>R9</td><br>        <td>R10</td><br>        <td>R11</td><br>        <td>R12</td><br>    </tr><br></table>

<h2 id="m0特殊寄存器"><a href="#m0特殊寄存器" class="headerlink" title="m0特殊寄存器"></a>m0特殊寄存器</h2><table><br>    <tr><br>        <td>SP(R13)</td><br>        <td>LR(R14)</td><br>        <td>PC(R15)</td><br>        <td>CONTROL</td><br>        <td>xPSR</td><br>        <td>PRIMASK</td><br>    </tr><br></table>

<h2 id="m3-m4-m7特殊寄存器"><a href="#m3-m4-m7特殊寄存器" class="headerlink" title="m3/m4/m7特殊寄存器"></a>m3/m4/m7特殊寄存器</h2><table><br>    <tr><br>        <td>SP(R13)</td><br>        <td>LR(R14)</td><br>        <td>PC(R15)</td><br>        <td>CONTROL</td><br>        <td>xPSR</td><br>        <td>PRIMASK</td><br>        <td>FAULTMASK</td><br>        <td>BASEPRI</td><br>    </tr><br></table>

<h3 id="MSP和PSP"><a href="#MSP和PSP" class="headerlink" title="MSP和PSP"></a>MSP和PSP</h3><pre><code>msp中断中会使用，psp用于线程栈使用，通过配置CONTROL寄存器切换。
系统复位后默认使用msp，中断中也使用msp。
</code></pre><h3 id="xPSR"><a href="#xPSR" class="headerlink" title="xPSR"></a>xPSR</h3><pre><code>IPSR可以用来判断当前处于什么中断。
</code></pre><h3 id="PRIMASK"><a href="#PRIMASK" class="headerlink" title="PRIMASK"></a>PRIMASK</h3><pre><code>中断屏蔽寄存器，写1屏蔽所有中断(除了不可屏蔽中断和hardfault)
</code></pre><h3 id="CONTROL"><a href="#CONTROL" class="headerlink" title="CONTROL"></a>CONTROL</h3><pre><code>第1bit写1表示切换成PSP
</code></pre><h3 id="FAULTMASK"><a href="#FAULTMASK" class="headerlink" title="FAULTMASK"></a>FAULTMASK</h3><p>屏蔽所有的fault (NMI不受影响)</p>
<h3 id="BASEPRI"><a href="#BASEPRI" class="headerlink" title="BASEPRI"></a>BASEPRI</h3><p>屏蔽所有优先级不高于某个具体数值的中断</p>
<h2 id="栈空间操作"><a href="#栈空间操作" class="headerlink" title="栈空间操作"></a>栈空间操作</h2><pre><code>栈向下递减
栈指针始终指向栈的最后一个数据，每次执行数据存储前(push)，SP会首先减小
</code></pre><h2 id="异常和中断"><a href="#异常和中断" class="headerlink" title="异常和中断"></a>异常和中断</h2><blockquote>
<p>m0最多支持32个外部中断</p>
</blockquote>
<h3 id="系统异常"><a href="#系统异常" class="headerlink" title="系统异常"></a>系统异常</h3><blockquote>
<p>主要用于操作系统和错误处理</p>
</blockquote>
<table>
<thead>
<tr>
<th>异常类型</th>
<th style="text-align:center">异常编号</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>reset</td>
<td style="text-align:center">1</td>
<td>上电复位、系统复位</td>
</tr>
<tr>
<td>NMI</td>
<td style="text-align:center">2</td>
<td>不可屏蔽中断</td>
</tr>
<tr>
<td>hardfault</td>
<td style="text-align:center">3</td>
<td>硬件错误</td>
</tr>
<tr>
<td>SVCall</td>
<td style="text-align:center">11</td>
<td>系统调用</td>
</tr>
<tr>
<td>PendSV</td>
<td style="text-align:center">13</td>
<td>挂起系统调用</td>
</tr>
<tr>
<td>systick</td>
<td style="text-align:center">15</td>
<td>系统滴答</td>
</tr>
</tbody>
</table>
<h2 id="NVIC可嵌套向量中断控制器"><a href="#NVIC可嵌套向量中断控制器" class="headerlink" title="NVIC可嵌套向量中断控制器"></a>NVIC可嵌套向量中断控制器</h2><ul>
<li>中断可嵌套</li>
<li>相同优先级的中断不可嵌套</li>
<li>相同中断不可嵌套</li>
</ul>
<h2 id="系统操作寄存器"><a href="#系统操作寄存器" class="headerlink" title="系统操作寄存器"></a>系统操作寄存器</h2><p>实际上是许多的系统管理的寄存器<br>|地址范围|寄存器说明|<br>|—|—-|<br>|0xE000E008 - 0xE000E00F|System Control Block Table|<br>|0xE000E010 - 0xE000E01F|预留|<br>|0xE000E010 - 0xE000E01F|SysTick操作寄存器|<br>|0xE000E100 - 0xE000E4EF|NVIC操作寄存器|<br>|0xE000ED00 - 0xE000ED3F|系统控制块|<br>|0xE000EF00 - 0xE000EF03|NVIC|</p>
<h3 id="NVIC寄存器"><a href="#NVIC寄存器" class="headerlink" title="NVIC寄存器"></a>NVIC寄存器</h3><table>
<thead>
<tr>
<th>地址</th>
<th style="text-align:center">寄存器名称</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>0xE000E100</td>
<td style="text-align:center">ISER</td>
<td>中断使能寄存器</td>
</tr>
<tr>
<td>0xE000E180</td>
<td style="text-align:center">ICER</td>
<td>中断失能寄存器</td>
</tr>
<tr>
<td>0xE000E200</td>
<td style="text-align:center">ISPR</td>
<td>中断挂起寄存器</td>
</tr>
<tr>
<td>0xE000E280</td>
<td style="text-align:center">ICPR</td>
<td>清除挂起中断的寄存器</td>
</tr>
<tr>
<td>0xE000E400 - 0xE000E41C</td>
<td style="text-align:center">IPR0-7</td>
<td>中断优先级配置寄存器</td>
</tr>
</tbody>
</table>
<h3 id="系统控制块SCB寄存器"><a href="#系统控制块SCB寄存器" class="headerlink" title="系统控制块SCB寄存器"></a>系统控制块SCB寄存器</h3><table>
<thead>
<tr>
<th>地址</th>
<th style="text-align:center">寄存器名称</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>0xE000ED00</td>
<td style="text-align:center">CPUID</td>
<td>CPUID</td>
</tr>
<tr>
<td>0xE000ED04</td>
<td style="text-align:center">ICSR</td>
<td>中断控制和状态寄存器</td>
</tr>
<tr>
<td>0xE000ED0C</td>
<td style="text-align:center">AIRCR</td>
<td>应用中断和复位的寄存器</td>
</tr>
<tr>
<td>0xE000ED10</td>
<td style="text-align:center">SCR</td>
<td>系统控制寄存器</td>
</tr>
<tr>
<td>0xE000ED14</td>
<td style="text-align:center">CCR</td>
<td>配置控制寄存器</td>
</tr>
<tr>
<td>0xE000ED1C</td>
<td style="text-align:center">SHPR2</td>
<td>System Handler Priority Register 2</td>
</tr>
<tr>
<td>0xE000ED20</td>
<td style="text-align:center">SHPR3</td>
<td>System Handler Priority Register 3</td>
</tr>
</tbody>
</table>
<h3 id="SysTick寄存器"><a href="#SysTick寄存器" class="headerlink" title="SysTick寄存器"></a>SysTick寄存器</h3><table>
<thead>
<tr>
<th>地址</th>
<th style="text-align:center">寄存器名称</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>0xE000E010</td>
<td style="text-align:center">SYST_CSR</td>
<td>SysTick控制和状态寄存器</td>
</tr>
<tr>
<td>0xE000E014</td>
<td style="text-align:center">SYST_RVR</td>
<td>SysTick重载寄存器</td>
</tr>
<tr>
<td>0xE000E018</td>
<td style="text-align:center">SYST_CVR</td>
<td>SysTick当前值寄存器</td>
</tr>
<tr>
<td>0xE000E01C</td>
<td style="text-align:center">SYST_CALIB</td>
<td>SysTick校准寄存器</td>
</tr>
</tbody>
</table>
<h2 id="cortex-m0启动流程"><a href="#cortex-m0启动流程" class="headerlink" title="cortex-m0启动流程"></a>cortex-m0启动流程</h2><ol>
<li>程序从0x00000000地址开始执行</li>
<li>m0从程序bin文件的开始处第2个word运行reset_handler</li>
<li>reset_handler函数开始执行一些必要的初始化（ramfunc函数复制，堆初始化，全局、静态变量初始化等）</li>
<li>跳转到main函数中</li>
</ol>
<h2 id="中断向量表"><a href="#中断向量表" class="headerlink" title="中断向量表"></a>中断向量表</h2><table><br>    <tr><td>sp指针</td></tr><br>    <tr><td>resetHandler地址</td></tr><br>    <tr><td>NMIHandler地址</td></tr><br>    <tr><td>hardfault地址</td></tr><br>    <tr><td>reserved</td></tr><br>    <tr><td>systickHandler地址</td></tr><br>    <tr><td>……</td></tr><br></table>

<h2 id="大小端"><a href="#大小端" class="headerlink" title="大小端"></a>大小端</h2><pre><code>m0支持大端模式和小端模式，不过一般芯片公司选择小端模式。
</code></pre><h2 id="堆栈"><a href="#堆栈" class="headerlink" title="堆栈"></a>堆栈</h2><pre><code>堆向上增长
栈向下增长
</code></pre><h3 id="压栈的寄存器"><a href="#压栈的寄存器" class="headerlink" title="压栈的寄存器"></a>压栈的寄存器</h3><table><br>    <tr><td>xPSR</td></tr><br>    <tr><td>PC</td></tr><br>    <tr><td>LR</td></tr><br>    <tr><td>R12</td></tr><br>    <tr><td>R3</td></tr><br>    <tr><td>R2</td></tr><br>    <tr><td>R1</td></tr><br>    <tr><td>R0</td></tr><br></table>

<h2 id="杂项指令集"><a href="#杂项指令集" class="headerlink" title="杂项指令集"></a>杂项指令集</h2><table>
<thead>
<tr>
<th style="text-align:center">指令</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">BKPT</td>
<td>断点</td>
</tr>
<tr>
<td style="text-align:center">CPSID</td>
<td>关闭总中断</td>
</tr>
<tr>
<td style="text-align:center">CPSIE</td>
<td>打开总中断</td>
</tr>
<tr>
<td style="text-align:center">DMB</td>
<td>数据存储器隔离 仅当所有在它前面的存储器访问操作都执行完毕后，才开始后面的存储器访问操作</td>
</tr>
<tr>
<td style="text-align:center">DSB</td>
<td>数据同步隔离，比DMB更严格:仅当所有在它前面的存储器访问操作都执行完毕后，才开始后面的指令</td>
</tr>
<tr>
<td style="text-align:center">ISB</td>
<td>指令同步隔离，最严格: 会清洗流水线，保证所有它前面的指令都执行完毕之后，才执行后面的指令。</td>
</tr>
<tr>
<td style="text-align:center">MRS</td>
<td>从特殊寄存器读取数据到通用寄存器</td>
</tr>
<tr>
<td style="text-align:center">MSR</td>
<td>从通用寄存器读取数据到特殊寄存器</td>
</tr>
<tr>
<td style="text-align:center">NOP</td>
<td>空转指令</td>
</tr>
<tr>
<td style="text-align:center">SEV</td>
<td>产生event</td>
</tr>
<tr>
<td style="text-align:center">SVC</td>
<td>产生SVC系统调用中断</td>
</tr>
<tr>
<td style="text-align:center">WFE</td>
<td>等待event</td>
</tr>
<tr>
<td style="text-align:center">WFI</td>
<td>等待中断</td>
</tr>
</tbody>
</table>
<h2 id="M0-M3-M4-M7区别"><a href="#M0-M3-M4-M7区别" class="headerlink" title="M0/M3/M4/M7区别"></a>M0/M3/M4/M7区别</h2><p>M0 armv6-M架构</p>
<p>M3 armv7-M架构<br>多了basepri寄存器可以阻止某优先级或更低的优先级的中断。<br>faultmask寄存器提供了更多的错误管理特性。<br>CONTROL寄存器的bit0用于决定是特权模式还是用户线程模式<br>32为thumb指令<br>位段特性<br>位域处理<br>多处理器支持<br>最多240个中断<br>硬件除法<br>存储器保护单元<br>更多的调试和跟踪特性</p>
<p>M4 armv7-M架构<br>浮点特性<br>SIMD指令(单周期多指令)<br>饱和算法<br>单周期MAC(MAC乘法累加)</p>
<table>
<thead>
<tr>
<th>特性</th>
<th>M0</th>
<th>M3</th>
<th>M4</th>
<th>M7</th>
</tr>
</thead>
<tbody>
<tr>
<td>basepr</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="M3系统框图"><a href="#M3系统框图" class="headerlink" title="M3系统框图"></a>M3系统框图</h2><p><img src="../res/cortex-m3系统框图.png" alt="M3系统框图"></p>
<h2 id="M3快速开关中断汇编指令"><a href="#M3快速开关中断汇编指令" class="headerlink" title="M3快速开关中断汇编指令"></a>M3快速开关中断汇编指令</h2><table>
<thead>
<tr>
<th>指令</th>
<th>效果</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>CPSID I</td>
<td>PRIMASK=1</td>
<td>关中断</td>
</tr>
<tr>
<td>CPSIE I</td>
<td>PRIMASK=0</td>
<td>开中断</td>
</tr>
<tr>
<td>CPSID F</td>
<td>FAULTMASK=1</td>
<td>关异常</td>
</tr>
<tr>
<td>CPSIE F</td>
<td>FAULTMASK=0</td>
<td>开异常</td>
</tr>
</tbody>
</table>
<h2 id="M3内核CONTROL寄存器"><a href="#M3内核CONTROL寄存器" class="headerlink" title="M3内核CONTROL寄存器"></a>M3内核CONTROL寄存器</h2><ul>
<li>CONTROL[1]<br>  堆栈指针选择<br>  0=选择主堆栈指针 MSP(复位后缺省值)<br>  1=选择进程堆栈指针 PSP<br>  在线程或基础级(没有在响应异常——译注),可以使用 PSP。在 handler 模式下,只允许使用 MSP,所以此时不得往该位写 1。 </li>
<li>CONTROL[0]<br>  0=特权级的线程模式<br>  1=用户级的线程模式<br>  Handler 模式永远都是特权级的。 </li>
</ul>
<h2 id="异常和中断-1"><a href="#异常和中断-1" class="headerlink" title="异常和中断"></a>异常和中断</h2><blockquote>
<p>Cortex‐M3 支持大量异常,包括 16‐4‐1=11 个系统异常,和最多 240 个外部中断——简称 IRQ。</p>
</blockquote>
<table>
<thead>
<tr>
<th>编号</th>
<th>类型</th>
<th>优先级</th>
<th>简介</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>N/A</td>
<td>N/A</td>
<td>没有异常在运行</td>
</tr>
<tr>
<td>1</td>
<td>复位</td>
<td>-3(最高)</td>
<td>复位</td>
</tr>
<tr>
<td>2</td>
<td>NMI</td>
<td>-2</td>
<td>不可屏蔽中断(来自外部 NMI 输入脚)</td>
</tr>
<tr>
<td>3</td>
<td>硬(hard) fault</td>
<td>-1</td>
<td>所有被除能的 fault,都将“上访”成硬 fault。除能的原因包括当前被禁用,或者 FAULTMASK 被置位。</td>
</tr>
<tr>
<td>4</td>
<td>MemManage</td>
<td>可编程</td>
<td>fault</td>
</tr>
<tr>
<td>5</td>
<td>存储器管理fault</td>
<td>可编程</td>
<td>MPU 访问犯规以及访问非法位置均可引发。企图在“非执行区”取指也会引发此 fault总线 fault从总线系统收到了错误响应,原因可以是预取流产(Abort)或数据流产,或者企图访问协处理器</td>
</tr>
<tr>
<td>6</td>
<td>用法(usage)</td>
<td>可编程</td>
<td>Fault</td>
<td>由于程序错误导致的异常。通常是使用了一条无效指令,或者是非法的状态转换,例如尝试切换到 ARM 状态</td>
</tr>
<tr>
<td>7-10</td>
<td>保留</td>
<td>N/A</td>
<td>N/A</td>
</tr>
<tr>
<td>11</td>
<td>SVCall</td>
<td>可编程</td>
<td>执行系统服务调用指令(SVC)引发的异常</td>
</tr>
<tr>
<td>12</td>
<td>调试监视器</td>
<td>可编程</td>
<td>调试监视器(断点,数据观察点,或者是外部调试请求</td>
</tr>
<tr>
<td>13</td>
<td>保留</td>
<td>N/A</td>
<td>N/A</td>
</tr>
<tr>
<td>14</td>
<td>PendSV</td>
<td>可编程</td>
<td>为系统设备而设的“可悬挂请求”(pendable request)</td>
</tr>
<tr>
<td>15</td>
<td>SysTick</td>
<td>可编程</td>
<td>系统滴答定时器(也就是周期性溢出的时基定时器——译注)</td>
</tr>
<tr>
<td>16</td>
<td>IRQ</td>
<td>#0</td>
<td>可编程</td>
<td>外中断#0</td>
</tr>
<tr>
<td>17</td>
<td>IRQ</td>
<td>#1</td>
<td>可编程</td>
<td>外中断#1</td>
</tr>
<tr>
<td>…</td>
<td>…</td>
<td>…</td>
<td>…</td>
</tr>
<tr>
<td>255</td>
<td>IRQ</td>
<td>#239</td>
<td>可编程</td>
<td>外中断#239</td>
</tr>
</tbody>
</table>
<h2 id="MPU存储器保护单元"><a href="#MPU存储器保护单元" class="headerlink" title="MPU存储器保护单元"></a>MPU存储器保护单元</h2><p>Cortex‐M3 有一个可选的存储器保护单元。配上它之后,就可以对特权级访问和用户级访问分别施加不同的访问限制。当检测到犯规(violated)时,MPU 就会产生一个 fault 异常,可以由 fault异常的服务例程来分析该错误,并且在可能时改正它。MPU 有很多玩法。最常见的就是由操作系统使用 MPU,以使特权级代码的数据,包括操作系统本身的数据不被其它用户程序弄坏。MPU 在保护内存时是按区管理的(“区”的原文是 region,以后不再中译此名词——译注)。它可以把某些内存 region 设置成只读,从而避免了那里的内容意外被更改;还可以在多任务系统中把不同任务之间的数据区隔离。一句话,它会使嵌入式系统变得更加健壮,更加可靠(很多行业标准,尤其是航空的,就规定了必须使用 MPU 来行使保护职能——译注)。</p>

  </div>
</article>



    </div>
    
      <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/embedded-notes/">Home</a></li>
         
          <li><a href="/embedded-notes/about/">About</a></li>
         
          <li><a href="/embedded-notes/posts/">Writing</a></li>
         
          <li><a href="http://github.com/xiaowenxia">Projects</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#目录"><span class="toc-number">1.</span> <span class="toc-text">目录</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#arm内核发展历史"><span class="toc-number">1.1.</span> <span class="toc-text">arm内核发展历史</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#cortexM0系列芯片系统框图"><span class="toc-number">1.2.</span> <span class="toc-text">cortexM0系列芯片系统框图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#通用寄存器"><span class="toc-number">1.3.</span> <span class="toc-text">通用寄存器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#m0特殊寄存器"><span class="toc-number">1.4.</span> <span class="toc-text">m0特殊寄存器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#m3-m4-m7特殊寄存器"><span class="toc-number">1.5.</span> <span class="toc-text">m3/m4/m7特殊寄存器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#MSP和PSP"><span class="toc-number">1.5.1.</span> <span class="toc-text">MSP和PSP</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#xPSR"><span class="toc-number">1.5.2.</span> <span class="toc-text">xPSR</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#PRIMASK"><span class="toc-number">1.5.3.</span> <span class="toc-text">PRIMASK</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CONTROL"><span class="toc-number">1.5.4.</span> <span class="toc-text">CONTROL</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#FAULTMASK"><span class="toc-number">1.5.5.</span> <span class="toc-text">FAULTMASK</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#BASEPRI"><span class="toc-number">1.5.6.</span> <span class="toc-text">BASEPRI</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#栈空间操作"><span class="toc-number">1.6.</span> <span class="toc-text">栈空间操作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#异常和中断"><span class="toc-number">1.7.</span> <span class="toc-text">异常和中断</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#系统异常"><span class="toc-number">1.7.1.</span> <span class="toc-text">系统异常</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#NVIC可嵌套向量中断控制器"><span class="toc-number">1.8.</span> <span class="toc-text">NVIC可嵌套向量中断控制器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#系统操作寄存器"><span class="toc-number">1.9.</span> <span class="toc-text">系统操作寄存器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#NVIC寄存器"><span class="toc-number">1.9.1.</span> <span class="toc-text">NVIC寄存器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#系统控制块SCB寄存器"><span class="toc-number">1.9.2.</span> <span class="toc-text">系统控制块SCB寄存器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SysTick寄存器"><span class="toc-number">1.9.3.</span> <span class="toc-text">SysTick寄存器</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#cortex-m0启动流程"><span class="toc-number">1.10.</span> <span class="toc-text">cortex-m0启动流程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#中断向量表"><span class="toc-number">1.11.</span> <span class="toc-text">中断向量表</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#大小端"><span class="toc-number">1.12.</span> <span class="toc-text">大小端</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#堆栈"><span class="toc-number">1.13.</span> <span class="toc-text">堆栈</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#压栈的寄存器"><span class="toc-number">1.13.1.</span> <span class="toc-text">压栈的寄存器</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#杂项指令集"><span class="toc-number">1.14.</span> <span class="toc-text">杂项指令集</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#M0-M3-M4-M7区别"><span class="toc-number">1.15.</span> <span class="toc-text">M0/M3/M4/M7区别</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#M3系统框图"><span class="toc-number">1.16.</span> <span class="toc-text">M3系统框图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#M3快速开关中断汇编指令"><span class="toc-number">1.17.</span> <span class="toc-text">M3快速开关中断汇编指令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#M3内核CONTROL寄存器"><span class="toc-number">1.18.</span> <span class="toc-text">M3内核CONTROL寄存器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#异常和中断-1"><span class="toc-number">1.19.</span> <span class="toc-text">异常和中断</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#MPU存储器保护单元"><span class="toc-number">1.20.</span> <span class="toc-text">MPU存储器保护单元</span></a></li></ol></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=http://xiaowenxia.github.io/embedded-notes/2018/02/28/cortex/"><i class="fa fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=http://xiaowenxia.github.io/embedded-notes/2018/02/28/cortex/&text=嵌入式笔记：cortex内核"><i class="fa fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=http://xiaowenxia.github.io/embedded-notes/2018/02/28/cortex/&title=嵌入式笔记：cortex内核"><i class="fa fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=http://xiaowenxia.github.io/embedded-notes/2018/02/28/cortex/&is_video=false&description=嵌入式笔记：cortex内核"><i class="fa fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=嵌入式笔记：cortex内核&body=Check out this article: http://xiaowenxia.github.io/embedded-notes/2018/02/28/cortex/"><i class="fa fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=http://xiaowenxia.github.io/embedded-notes/2018/02/28/cortex/&title=嵌入式笔记：cortex内核"><i class="fa fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=http://xiaowenxia.github.io/embedded-notes/2018/02/28/cortex/&title=嵌入式笔记：cortex内核"><i class="fa fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=http://xiaowenxia.github.io/embedded-notes/2018/02/28/cortex/&title=嵌入式笔记：cortex内核"><i class="fa fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=http://xiaowenxia.github.io/embedded-notes/2018/02/28/cortex/&title=嵌入式笔记：cortex内核"><i class="fa fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=http://xiaowenxia.github.io/embedded-notes/2018/02/28/cortex/&name=嵌入式笔记：cortex内核&description="><i class="fa fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
      <ul>
        <li id="toc"><a class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fa fa-list fa-lg" aria-hidden="true"></i> TOC</a></li>
        <li id="share"><a class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fa fa-share-alt fa-lg" aria-hidden="true"></i> Share</a></li>
        <li id="top" style="display:none"><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a></li>
        <li id="menu"><a class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fa fa-bars fa-lg" aria-hidden="true"></i> Menu</a></li>
      </ul>
    </div>

  </div>
</div>

    
    <footer id="footer">
  <div class="footer-left">
    Copyright &copy; 2018 xiaxiaowen
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/embedded-notes/">Home</a></li>
         
          <li><a href="/embedded-notes/about/">About</a></li>
         
          <li><a href="/embedded-notes/posts/">Writing</a></li>
         
          <li><a href="http://github.com/xiaowenxia">Projects</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

</body>
</html>
<!-- styles -->
<link rel="stylesheet" href="/embedded-notes/lib/font-awesome/css/font-awesome.min.css">
<link rel="stylesheet" href="/embedded-notes/lib/meslo-LG/styles.css">
<link rel="stylesheet" href="/embedded-notes/lib/justified-gallery/justifiedGallery.min.css">

<!-- jquery -->
<script src="/embedded-notes/lib/jquery/jquery.min.js"></script>
<script src="/embedded-notes/lib/justified-gallery/jquery.justifiedGallery.min.js"></script>
<script src="/embedded-notes/js/main.js"></script>


    <!-- Google Analytics -->
    <script type="text/javascript">
        (function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-37473492-6', 'auto');
        ga('send', 'pageview');
    </script>



