<!DOCTYPE html>
<html lang=zh>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="嵌入式笔记：shell脚本 目录shell种类    bash  csh  ksh  zsh    基本语法定义和使用变量#!/bin/sh a=&quot; hello world&quot; echo $a echo &apos;a is xiaxaiwen${a}&apos;  if elseif ....; then  　 ....  elif ....; then  　 ....  else  　 ....  fi   []">
<meta property="og:type" content="article">
<meta property="og:title" content="嵌入式笔记：shell脚本">
<meta property="og:url" content="http://xiaowenxia.github.io/embedded-notes/2018/02/28/shell/index.html">
<meta property="og:site_name" content="xiaxiaowen的个人博客">
<meta property="og:description" content="嵌入式笔记：shell脚本 目录shell种类    bash  csh  ksh  zsh    基本语法定义和使用变量#!/bin/sh a=&quot; hello world&quot; echo $a echo &apos;a is xiaxaiwen${a}&apos;  if elseif ....; then  　 ....  elif ....; then  　 ....  else  　 ....  fi   []">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2018-02-28T01:36:59.506Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="嵌入式笔记：shell脚本">
<meta name="twitter:description" content="嵌入式笔记：shell脚本 目录shell种类    bash  csh  ksh  zsh    基本语法定义和使用变量#!/bin/sh a=&quot; hello world&quot; echo $a echo &apos;a is xiaxaiwen${a}&apos;  if elseif ....; then  　 ....  elif ....; then  　 ....  else  　 ....  fi   []">
    
    
        
          
              <link rel="shortcut icon" href="/embedded-notes/images/favicon.ico">
          
        
        
          
            <link rel="icon" type="image/png" href="/embedded-notes/images/favicon-192x192.png" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/embedded-notes/images/apple-touch-icon.png">
          
        
    
    <!-- title -->
    <title>嵌入式笔记：shell脚本</title>
    <!-- styles -->
    <link rel="stylesheet" href="/embedded-notes/css/style.css">
    <!-- rss -->
    
    
<link rel="stylesheet" href="/embedded-notes/css/prism-tomorrow.css" type="text/css">
<link rel="stylesheet" href="/embedded-notes/css/prism-line-numbers.css" type="text/css"></head>

<body>
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fa fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fa fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fa fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/embedded-notes/">Home</a></li>
         
          <li><a href="/embedded-notes/about/">About</a></li>
         
          <li><a href="/embedded-notes/posts/">Writing</a></li>
         
          <li><a href="http://github.com/sergodeeva">Projects</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" href="/embedded-notes/2018/03/03/阿里Q/"><i class="fa fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" href="/embedded-notes/2018/02/28/git/"><i class="fa fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" href="#"><i class="fa fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=http://xiaowenxia.github.io/embedded-notes/2018/02/28/shell/"><i class="fa fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=http://xiaowenxia.github.io/embedded-notes/2018/02/28/shell/&text=嵌入式笔记：shell脚本"><i class="fa fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=http://xiaowenxia.github.io/embedded-notes/2018/02/28/shell/&title=嵌入式笔记：shell脚本"><i class="fa fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=http://xiaowenxia.github.io/embedded-notes/2018/02/28/shell/&is_video=false&description=嵌入式笔记：shell脚本"><i class="fa fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=嵌入式笔记：shell脚本&body=Check out this article: http://xiaowenxia.github.io/embedded-notes/2018/02/28/shell/"><i class="fa fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=http://xiaowenxia.github.io/embedded-notes/2018/02/28/shell/&title=嵌入式笔记：shell脚本"><i class="fa fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=http://xiaowenxia.github.io/embedded-notes/2018/02/28/shell/&title=嵌入式笔记：shell脚本"><i class="fa fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=http://xiaowenxia.github.io/embedded-notes/2018/02/28/shell/&title=嵌入式笔记：shell脚本"><i class="fa fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=http://xiaowenxia.github.io/embedded-notes/2018/02/28/shell/&title=嵌入式笔记：shell脚本"><i class="fa fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=http://xiaowenxia.github.io/embedded-notes/2018/02/28/shell/&name=嵌入式笔记：shell脚本&description="><i class="fa fa-tumblr " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#目录"><span class="toc-number">1.</span> <span class="toc-text">目录</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#shell种类"><span class="toc-number">1.1.</span> <span class="toc-text">shell种类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#基本语法"><span class="toc-number">1.2.</span> <span class="toc-text">基本语法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#定义和使用变量"><span class="toc-number">1.2.1.</span> <span class="toc-text">定义和使用变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#if-else"><span class="toc-number">1.2.2.</span> <span class="toc-text">if else</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#条件测试"><span class="toc-number">1.2.3.</span> <span class="toc-text">[] 条件测试</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#shell常用命令"><span class="toc-number">1.2.4.</span> <span class="toc-text">shell常用命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#shell变量类型"><span class="toc-number">1.2.5.</span> <span class="toc-text">shell变量类型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#局部变量"><span class="toc-number">1.2.5.1.</span> <span class="toc-text">局部变量</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#环境变量"><span class="toc-number">1.2.5.2.</span> <span class="toc-text">环境变量</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#shell变量特殊变量"><span class="toc-number">1.2.5.3.</span> <span class="toc-text">shell变量特殊变量</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#条件语句"><span class="toc-number">1.2.6.</span> <span class="toc-text">条件语句</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#特殊符号"><span class="toc-number">1.2.7.</span> <span class="toc-text">特殊符号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#数值比较运算符"><span class="toc-number">1.2.8.</span> <span class="toc-text">数值比较运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#字符串比较运算符"><span class="toc-number">1.2.9.</span> <span class="toc-text">字符串比较运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#文件比较运算符"><span class="toc-number">1.2.10.</span> <span class="toc-text">文件比较运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#逻辑运算符"><span class="toc-number">1.2.11.</span> <span class="toc-text">逻辑运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#替换运算符"><span class="toc-number">1.2.12.</span> <span class="toc-text">替换运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#循环语句用法"><span class="toc-number">1.2.13.</span> <span class="toc-text">循环语句用法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#case语句"><span class="toc-number">1.2.14.</span> <span class="toc-text">case语句</span></a></li></ol></li></ol></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index width mx-auto px2 my4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        嵌入式笔记：shell脚本
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">xiaxiaowen的个人博客</span>
      </span>
      
    <div class="postdate">
        <time datetime="2018-02-28T01:36:59.506Z" itemprop="datePublished">2018-02-28</time>
    </div>


      

    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <p>嵌入式笔记：shell脚本</p>
<h1 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h1><h2 id="shell种类"><a href="#shell种类" class="headerlink" title="shell种类"></a>shell种类</h2><table><br>  <tr><br>  <td>bash</td><br>  <td>csh</td><br>  <td>ksh</td><br>  <td>zsh</td><br>  </tr><br></table>

<h2 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h2><h3 id="定义和使用变量"><a href="#定义和使用变量" class="headerlink" title="定义和使用变量"></a>定义和使用变量</h3><pre class="line-numbers language-sh"><code class="language-sh">#!/bin/sh
a=" hello world"
echo $a
echo 'a is xiaxaiwen${a}'
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="if-else"><a href="#if-else" class="headerlink" title="if else"></a>if else</h3><pre class="line-numbers language-sh"><code class="language-sh">if ....; then 
　 .... 
elif ....; then 
　 .... 
else 
　 .... 
fi 
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="条件测试"><a href="#条件测试" class="headerlink" title="[] 条件测试"></a>[] 条件测试</h3><blockquote>
<p>[] 中前后一定要加空格</p>
</blockquote>
<h3 id="shell常用命令"><a href="#shell常用命令" class="headerlink" title="shell常用命令"></a>shell常用命令</h3><table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>echo</code></td>
<td>将文字内容打印在屏幕上</td>
</tr>
<tr>
<td><code>ls</code></td>
<td>文件列表</td>
</tr>
<tr>
<td><code>wc</code></td>
<td>计算文件行数(-l),单词数(-w),字符数(-c)</td>
</tr>
<tr>
<td><code>cp</code></td>
<td>文件拷贝</td>
</tr>
<tr>
<td><code>mv</code></td>
<td>重命名文件或移动文件</td>
</tr>
<tr>
<td><code>rm</code></td>
<td>删除文件</td>
</tr>
<tr>
<td><code>grep</code></td>
<td>在文件内搜索字符串比如：grep ‘searchstring’ file.txt</td>
</tr>
<tr>
<td><code>cut -b</code></td>
<td>指定欲显示的文件内容范围，并将它们输出到标准输出设备比如：输出每行第5个到第9个字符cut -b5-9 file.txt千万不要和cat命令混淆，这是两个完全不同的命令</td>
</tr>
<tr>
<td><code>cat</code></td>
<td>输出文件内容到标准输出设备（屏幕）上</td>
</tr>
<tr>
<td><code>file</code></td>
<td>得到文件类型</td>
</tr>
<tr>
<td><code>read var</code></td>
<td>提示用户输入，并将输入赋值给变量</td>
</tr>
<tr>
<td><code>sort</code></td>
<td>对file.txt文件中的行进行排序</td>
</tr>
<tr>
<td><code>uniq</code></td>
<td>删除文本文件中出现的行列比如： sort file.txt</td>
<td>uniq</td>
</tr>
<tr>
<td><code>expr</code></td>
<td>进行数学运算Example: add 2 and 3expr 2 “+” 3</td>
</tr>
<tr>
<td><code>find</code></td>
<td>搜索文件比如：根据文件名搜索find . -name filename -print</td>
</tr>
<tr>
<td><code>tee</code></td>
<td>将数据输出到标准输出设备(屏幕) 和文件比如：somecommand</td>
<td>tee outfile</td>
</tr>
<tr>
<td><code>basename</code></td>
<td>返回不包含路径的文件名比如： basename /bin/tux将返回 tux</td>
</tr>
<tr>
<td><code>dirname</code></td>
<td>返回文件所在路径比如：dirname /bin/tux将返回 /bin</td>
</tr>
<tr>
<td><code>head</code></td>
<td>打印文本文件开头几行</td>
</tr>
<tr>
<td><code>tail</code></td>
<td>打印文本文件末尾几行</td>
</tr>
<tr>
<td><code>sed</code></td>
<td>Sed是一个基本的查找替换程序。可以从标准输入（比如命令管道）读入文本，并将结果输出到标准输出（屏幕）。该命令采用正则表达式（见参考）进行搜索。不要和shell中的通配符相混淆。比如：将linuxfocus 替换为 LinuxFocus ：cat text.file</td>
<td>sed ‘s/linuxfocus/LinuxFocus/‘ &gt; newtext.file</td>
</tr>
<tr>
<td>awk</td>
<td>awk 用来从文本文件中提取字段。缺省地，字段分割符是空格，可以使用-F指定其他分割符。cat file.txt</td>
<td>awk -F, ‘{print $1 “,” $3 }’这里我们使用，作为字段分割符，同时打印第一个和第三个字段。如果该文件内容如下： Adam Bor, 34, IndiaKerry Miller, 22, USA命令输出结果为：Adam Bor, IndiaKerry Miller, USA</td>
</tr>
</tbody>
</table>
<h3 id="shell变量类型"><a href="#shell变量类型" class="headerlink" title="shell变量类型"></a>shell变量类型</h3><blockquote>
<p>shell变量名只能包含数字、字母和下划线</p>
</blockquote>
<h4 id="局部变量"><a href="#局部变量" class="headerlink" title="局部变量"></a>局部变量</h4><p>在脚本或命令中定义，仅在当前shell实例中有效</p>
<h4 id="环境变量"><a href="#环境变量" class="headerlink" title="环境变量"></a>环境变量</h4><h4 id="shell变量特殊变量"><a href="#shell变量特殊变量" class="headerlink" title="shell变量特殊变量"></a>shell变量特殊变量</h4><table>
<thead>
<tr>
<th style="text-align:center">特殊变量列表</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>$0</code></td>
<td>当前脚本的文件名</td>
</tr>
<tr>
<td style="text-align:center"><code>$n</code></td>
<td>传递给脚本或函数的参数。n 是一个数字，表示第几个参数。例如，第一个参数是<code>$1</code>，第二个参数是<code>$2</code>。</td>
</tr>
<tr>
<td style="text-align:center"><code>$#</code></td>
<td>传递给脚本或函数的参数个数。</td>
</tr>
<tr>
<td style="text-align:center"><code>$*</code></td>
<td>传递给脚本或函数的所有参数。</td>
</tr>
<tr>
<td style="text-align:center"><code>$@</code></td>
<td>传递给脚本或函数的所有参数。被双引号(“ “)包含时，与 <code>$*</code> 稍有不同，下面将会讲到。</td>
</tr>
<tr>
<td style="text-align:center"><code>$?</code></td>
<td>上个命令的退出状态，或函数的返回值。</td>
</tr>
<tr>
<td style="text-align:center"><code>$$</code></td>
<td>当前Shell进程ID。对于 Shell 脚本，就是这些脚本所在的进程ID。</td>
</tr>
</tbody>
</table>
<h3 id="条件语句"><a href="#条件语句" class="headerlink" title="条件语句"></a>条件语句</h3><p>for<br>while<br>if</p>
<h3 id="特殊符号"><a href="#特殊符号" class="headerlink" title="特殊符号"></a>特殊符号</h3><p><code>!!</code>  表示执行上一条指令<br><code>!n</code>  表示执行命令历史中第n条指令<br><code>*</code>   匹配零个或多个字符<br><code>?</code>   匹配一个字符<br><code>env</code> 系统预设的环境变量<br><code>$?</code>  上次执行命令或函数的返回值<br><code>$*</code>  传递给脚本或函数的所有参数<br><code>$@</code>  传递给脚本或函数的所有参数。被双引号(<code>&quot; &quot;</code>)包含时，与 <code>$*</code> 稍有不同，下面将会讲到。<br><code>$$</code>  脚本运行的当前进程id<br><code>$!</code>  最后执行的后台命令的PID<br><code>$#</code>  传递给shell脚本的参数个数<br><code>反引号</code> 设置系统的命令输出到变量<br><code>echo *</code>  以串行形式，打印当前整个目录</p>
<h3 id="数值比较运算符"><a href="#数值比较运算符" class="headerlink" title="数值比较运算符"></a>数值比较运算符</h3><p>-eq 相等<br>-ne 不等<br>-gt 大于<br>-lt 小于<br>-le 小于等于<br>-ge 大于等于</p>
<h3 id="字符串比较运算符"><a href="#字符串比较运算符" class="headerlink" title="字符串比较运算符"></a>字符串比较运算符</h3><p>=   相等<br>!=  不等<br>-z  空串<br>-n  非空串</p>
<h3 id="文件比较运算符"><a href="#文件比较运算符" class="headerlink" title="文件比较运算符"></a>文件比较运算符</h3><p>-d  目录<br>-f  文件<br>-L  链接<br>-r  可读<br>-w  可写<br>-x  可执行<br>-s  文件非空</p>
<h3 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h3><p>-a  逻辑与<br>-o  逻辑或<br>!   逻辑否</p>
<h3 id="替换运算符"><a href="#替换运算符" class="headerlink" title="替换运算符"></a>替换运算符</h3><ol>
<li><code>${var_name:-def_Val}</code><br> 如果变量var_name存在且为非null，返回该变量的值，否则返回默认值def-Val<br> 注意var_name与:之间没有空格，:与-之间可以有空格。主要用途，如果变量未定义，则用默认值.</li>
<li><code>${var_name:=val}</code><br> 如果变量var_name存在且为非null，返回该变量的值，否则，把val的值赋给变量var_name，并返回var_name的值val<br> 注意var_name与:之间没有空格，:与=之间也不能有空格。</li>
<li><code>${var_name:?message}</code><br> 如果变量var_name存在且为非null，返回该变量的值，否则返回该变量的名字var_name:提示信息meesage，并退出当前命令或脚本<br> 注意var_name与:之间没有空格，:与?之间也不能有空格。</li>
<li><code>${var_name:+val}</code><br> 如果变量var_name存在且为非null，返回val，否则返回null<br> 注意var_name与<code>:</code>之间没有空格，<code>:</code>与<code>+</code>之间也不能有空格。</li>
<li><pre class="line-numbers language-sh"><code class="language-sh">${#val_name}
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
 返回变量长度</li>
<li><code>$*</code> <code>$@</code><br> 显示所有命令行参数</li>
<li><code>$0</code><br> 脚本程序名称</li>
<li><code>$n</code><br>第n个参数</li>
<li><code>$(())</code><br>算术运算操作</li>
<li><code>$((var1 opr var2))</code><br>例如:<code>$((5+1))</code> 只能是<code>+ - * / ()运算符</code>，并且只能做整数运算</li>
<li><code>$()</code><br>命令代换 类似于 <code>反引号</code> 例如：<code>echo $(date)</code></li>
</ol>
<h3 id="循环语句用法"><a href="#循环语句用法" class="headerlink" title="循环语句用法"></a>循环语句用法</h3><pre class="line-numbers language-sh"><code class="language-sh">    for i in $path
    for i in `seq 1 9`
    for i in $(seq 1 9)
    for i in {a..z}
    for (( i=1; i<=10; i++ ))
    while [ $cnt -ge  0 ]
    until [ $cnt -lt 0 ]
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="case语句"><a href="#case语句" class="headerlink" title="case语句"></a>case语句</h3><pre class="line-numbers language-sh"><code class="language-sh">    name=`basename $0 .sh`
    case $1 in
      s|start)
        echo "start..."
        ;;
      stop)
        echo "stop ..."
            ;;
      reload)
            echo "reload..."
            ;;
      *)
            echo "Usage: $name [start|stop|reload]"
            exit 1
            ;;
    esac
    exit 0
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre><code>1、*) 相当于其他语言中的default。
2、除了*)模式，各个分支中;;是必须的，;;相当于其他语言中的break
3、 | 分割多个模式，相当于or

help    查看所有bash保留的关键词
readonly定义变量只读
unset   删除变量
echo -e &quot;Value of a is $a \n&quot;   使转义字符\n生效
    可以使用的转义符：\\ \a \b \f \n \r \t \v

`${var}`  变量本来的值
`${var:-word}`    如果变量 var 为空或已被删除(unset)，那么返回 word，但不改变 var 的值。
`${var:=word}`    如果变量 var 为空或已被删除(unset)，那么返回 word，并将 var 的值设置为 word。
`${var:?message}` 如果变量 var 为空或已被删除(unset)，那么将消息 message 送到标准错误输出，可以用来检测变量 var 是否可以被正常赋值。若此替换出现在Shell脚本中，那么脚本将停止运行。
`${var:+word}`    如果变量 var 被定义，那么返回 word，但不改变 var 的值。

val=`expr 2 + 2`算数运算
`echo ${#string}`活取字符串长度
`echo ${string:1:4}`  输出第1位到第4位的字符串（从0开始）
定义数组：
    array_name=(value0 value1 value2 value3)
或者    array_name=(
    value0
    value1
    value2
    value3
    )
或者    array_name[0]=value0
    array_name[1]=value1
    array_name[2]=value2
`${array_name[2]}`    获取数组的值
`${array_name[*]}`    获取数组的所有元素
`${array_name[@]}`    获取数组的所有元素
`${#array_name[@]}`   获取数组个数
`${#array_name[*]}`   获取数组个数
`${#array_name[2]}`   获取数组单个元素的长度

command 2 &gt; file    将stderr重定向到 file
command &lt; file      将stdin重定向到file
command &gt; file      将stdout重定向到file
command &gt; file 2&gt;&amp;1 将stdout stderr都重定向到file
command &lt; file1 &gt;file2  将stdin重定向到file1 stdout重定向到file2

-cp 表示cp命令报错了不会停止，继续执行下面的操作
@cp 终端中不会打印出命令的执行
declare 
    -i  整型变量
    -a  数组
    -f  列出所有定义过的函数
    -x  将声明的变量作为脚本的环境变量导出
shift   左移参数，shift 3表示`$4`变成`$1` 不带参数的话默认为shift 1
file=/dir1/dir2/dir3/my.file.txt
`${file#*/}`：    删掉第一个/ 及其左边的字符串：dir1/dir2/dir3/my.file.txt
`${file##*/}`：   删掉最后一个/   及其左边的字符串：my.file.txt
`${file#*.}`：    删掉第一个.     及其左边的字符串：file.txt
`${file##*.}`：   删掉最后一个.   及其左边的字符串：txt
`${file%/*}`：    删掉最后一个 /      及其右边的字符串：/dir1/dir2/dir3
`${file%%/*}`：   删掉第一个/     及其右边的字符串：(空值)
`${file%.*}`：    删掉最后一个 .      及其右边的字符串：/dir1/dir2/dir3/my.file
`${file%%.*}`：   删掉第一个 .    及其右边的字符串：/dir1/dir2/dir3/my
    记忆的方法为：
    # 是 去掉左边（键盘上#在 `$` 的左边）
    %是去掉右边（键盘上% 在`$` 的右边）
    单一符号是最小匹配；两个符号是最大匹配
`${file:0:5}`：   提取最左边的5 个字节：/dir1
`${file:5:5}`：   提取第5 个字节右边的连续5个字节：/dir2
`${file/dir/path}`：将第一个dir 替换为path：/path1/dir2/dir3/my.file.txt
`${file//dir/path}`：将全部dir 替换为path：/path1/path2/path3/my.file.txt
`${#file}`:   计算字符串长度：27
</code></pre>
  </div>
</article>



    </div>
    
      <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/embedded-notes/">Home</a></li>
         
          <li><a href="/embedded-notes/about/">About</a></li>
         
          <li><a href="/embedded-notes/posts/">Writing</a></li>
         
          <li><a href="http://github.com/sergodeeva">Projects</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#目录"><span class="toc-number">1.</span> <span class="toc-text">目录</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#shell种类"><span class="toc-number">1.1.</span> <span class="toc-text">shell种类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#基本语法"><span class="toc-number">1.2.</span> <span class="toc-text">基本语法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#定义和使用变量"><span class="toc-number">1.2.1.</span> <span class="toc-text">定义和使用变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#if-else"><span class="toc-number">1.2.2.</span> <span class="toc-text">if else</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#条件测试"><span class="toc-number">1.2.3.</span> <span class="toc-text">[] 条件测试</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#shell常用命令"><span class="toc-number">1.2.4.</span> <span class="toc-text">shell常用命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#shell变量类型"><span class="toc-number">1.2.5.</span> <span class="toc-text">shell变量类型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#局部变量"><span class="toc-number">1.2.5.1.</span> <span class="toc-text">局部变量</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#环境变量"><span class="toc-number">1.2.5.2.</span> <span class="toc-text">环境变量</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#shell变量特殊变量"><span class="toc-number">1.2.5.3.</span> <span class="toc-text">shell变量特殊变量</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#条件语句"><span class="toc-number">1.2.6.</span> <span class="toc-text">条件语句</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#特殊符号"><span class="toc-number">1.2.7.</span> <span class="toc-text">特殊符号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#数值比较运算符"><span class="toc-number">1.2.8.</span> <span class="toc-text">数值比较运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#字符串比较运算符"><span class="toc-number">1.2.9.</span> <span class="toc-text">字符串比较运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#文件比较运算符"><span class="toc-number">1.2.10.</span> <span class="toc-text">文件比较运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#逻辑运算符"><span class="toc-number">1.2.11.</span> <span class="toc-text">逻辑运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#替换运算符"><span class="toc-number">1.2.12.</span> <span class="toc-text">替换运算符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#循环语句用法"><span class="toc-number">1.2.13.</span> <span class="toc-text">循环语句用法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#case语句"><span class="toc-number">1.2.14.</span> <span class="toc-text">case语句</span></a></li></ol></li></ol></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=http://xiaowenxia.github.io/embedded-notes/2018/02/28/shell/"><i class="fa fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=http://xiaowenxia.github.io/embedded-notes/2018/02/28/shell/&text=嵌入式笔记：shell脚本"><i class="fa fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=http://xiaowenxia.github.io/embedded-notes/2018/02/28/shell/&title=嵌入式笔记：shell脚本"><i class="fa fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=http://xiaowenxia.github.io/embedded-notes/2018/02/28/shell/&is_video=false&description=嵌入式笔记：shell脚本"><i class="fa fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=嵌入式笔记：shell脚本&body=Check out this article: http://xiaowenxia.github.io/embedded-notes/2018/02/28/shell/"><i class="fa fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=http://xiaowenxia.github.io/embedded-notes/2018/02/28/shell/&title=嵌入式笔记：shell脚本"><i class="fa fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=http://xiaowenxia.github.io/embedded-notes/2018/02/28/shell/&title=嵌入式笔记：shell脚本"><i class="fa fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=http://xiaowenxia.github.io/embedded-notes/2018/02/28/shell/&title=嵌入式笔记：shell脚本"><i class="fa fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=http://xiaowenxia.github.io/embedded-notes/2018/02/28/shell/&title=嵌入式笔记：shell脚本"><i class="fa fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=http://xiaowenxia.github.io/embedded-notes/2018/02/28/shell/&name=嵌入式笔记：shell脚本&description="><i class="fa fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
      <ul>
        <li id="toc"><a class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fa fa-list fa-lg" aria-hidden="true"></i> TOC</a></li>
        <li id="share"><a class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fa fa-share-alt fa-lg" aria-hidden="true"></i> Share</a></li>
        <li id="top" style="display:none"><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fa fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a></li>
        <li id="menu"><a class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fa fa-bars fa-lg" aria-hidden="true"></i> Menu</a></li>
      </ul>
    </div>

  </div>
</div>

    
    <footer id="footer">
  <div class="footer-left">
    Copyright &copy; 2018 xiaxiaowen
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/embedded-notes/">Home</a></li>
         
          <li><a href="/embedded-notes/about/">About</a></li>
         
          <li><a href="/embedded-notes/posts/">Writing</a></li>
         
          <li><a href="http://github.com/sergodeeva">Projects</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

</body>
</html>
<!-- styles -->
<link rel="stylesheet" href="/embedded-notes/lib/font-awesome/css/font-awesome.min.css">
<link rel="stylesheet" href="/embedded-notes/lib/meslo-LG/styles.css">
<link rel="stylesheet" href="/embedded-notes/lib/justified-gallery/justifiedGallery.min.css">

<!-- jquery -->
<script src="/embedded-notes/lib/jquery/jquery.min.js"></script>
<script src="/embedded-notes/lib/justified-gallery/jquery.justifiedGallery.min.js"></script>
<script src="/embedded-notes/js/main.js"></script>


    <!-- Google Analytics -->
    <script type="text/javascript">
        (function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-37473492-6', 'auto');
        ga('send', 'pageview');
    </script>



